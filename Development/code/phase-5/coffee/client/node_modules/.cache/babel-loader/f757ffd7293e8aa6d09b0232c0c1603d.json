{"ast":null,"code":"var _jsxFileName = \"/Users/vicslife/Development/code/phase-5/coffee/client/src/Components/coffee/CoffeeShow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CoffeeShow = () => {\n  _s();\n  const [comment, setComment] = useState('');\n  const [error, setError] = useState(null);\n  const [viewCoffee, setViewCoffee] = useState({});\n  const [reviews, setReviews] = useState([]);\n  const params = useParams();\n  useEffect(() => {\n    axios.get(`http://127.0.0.1:3000/api/v1/coffee/${params.id}`).then(response => {\n      console.log(response.data.coffee.image_url);\n      setViewCoffee(response.data.coffee);\n      setReviews(response.data.reviews);\n    }).catch(error => console.error(error));\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(`http://localhost:3000/api/v1/review?coffee_id=${params.id}`, {\n        comment\n      });\n      setReviews([...reviews, response.data.review]);\n      setComment('');\n      setError(null);\n    } catch (error) {\n      console.error(error);\n      setError(error.response.data.error);\n    }\n  };\n  const deleteReview = async id => {\n    try {\n      await axios.delete(`http://localhost:3000/api/v1/review/${id}`);\n      setReviews(reviews.filter(review => review.id !== id));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col m-8 h-screen bg-gray-100 text-gray-700\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row md:justify-between w-full items-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full md:w-1/2 lg:w-1/3 md:mr-4 lg:mr-8 mb-8 md:mb-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-lg p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold mb-2\",\n            children: viewCoffee.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), viewCoffee.image_url && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:3000${viewCoffee.image_url}`,\n            alt: viewCoffee.name,\n            className: \"w-full mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full md:w-2/4 lg:w-2/4 mt-8 md:mt-0\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"bg-white rounded shadow-lg p-8 w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-semibold text-sm\",\n            htmlFor: \"commentField\",\n            children: \"Add a Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"h-32 px-4 py-2 bg-gray-200 mt-2 rounded focus:outline-none focus:ring-2 resize-none w-full\",\n            type: \"text\",\n            value: comment,\n            onChange: e => setComment(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-red-600 mt-2\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded shadow\",\n            children: \"Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center py-4 text-lg\",\n      children: \"Reviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 mt-8 md:grid-cols-2 lg:grid-cols-3 gap-8 w-full\",\n      children: reviews.map(review => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-medium\",\n          children: review.comment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteReview(review.id),\n          className: \"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded shadow mt-4\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this)]\n      }, review.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s(CoffeeShow, \"l7Vmew2WOV3WWj6F+d8D6mbNIJ8=\", false, function () {\n  return [useParams];\n});\n_c = CoffeeShow;\nexport default CoffeeShow;\nvar _c;\n$RefreshReg$(_c, \"CoffeeShow\");","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","jsxDEV","_jsxDEV","CoffeeShow","_s","comment","setComment","error","setError","viewCoffee","setViewCoffee","reviews","setReviews","params","get","id","then","response","console","log","data","coffee","image_url","catch","handleSubmit","e","preventDefault","post","review","deleteReview","delete","filter","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onSubmit","htmlFor","type","value","onChange","target","required","map","onClick","_c","$RefreshReg$"],"sources":["/Users/vicslife/Development/code/phase-5/coffee/client/src/Components/coffee/CoffeeShow.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\n\nconst CoffeeShow = () => {\n    const [comment, setComment] = useState('');\n    const [error, setError] = useState(null);\n    const [viewCoffee, setViewCoffee] = useState({});\n    const [reviews, setReviews] = useState([]);\n    const params = useParams();\n\n    useEffect(() => {\n        axios\n            .get(`http://127.0.0.1:3000/api/v1/coffee/${params.id}`)\n            .then((response) => {\n                console.log(response.data.coffee.image_url)\n                setViewCoffee(response.data.coffee);\n                setReviews(response.data.reviews);\n            })\n            .catch((error) => console.error(error));\n    }, []);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await axios.post(`http://localhost:3000/api/v1/review?coffee_id=${params.id}`, {\n                comment,\n            });\n            setReviews([...reviews, response.data.review]);\n            setComment('');\n            setError(null);\n        } catch (error) {\n            console.error(error);\n            setError(error.response.data.error);\n        }\n    };\n    const deleteReview = async (id) => {\n        try {\n            await axios.delete(`http://localhost:3000/api/v1/review/${id}`);\n            setReviews(reviews.filter((review) => review.id !== id));\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n    return (\n        <div className=\"flex flex-col m-8 h-screen bg-gray-100 text-gray-700\">\n            <div className=\"flex flex-col md:flex-row md:justify-between w-full items-start\">\n                <div className=\"w-full md:w-1/2 lg:w-1/3 md:mr-4 lg:mr-8 mb-8 md:mb-0\">\n                    <div className=\"bg-white rounded-lg shadow-lg p-8\">\n                        <h2 className=\"text-xl font-bold mb-2\">{viewCoffee.name}</h2>\n                        {viewCoffee.image_url && <img src={`http://localhost:3000${viewCoffee.image_url}`} alt={viewCoffee.name} className=\"w-full mb-4\" />}\n                    </div>\n                </div>\n                <div className=\"w-full md:w-2/4 lg:w-2/4 mt-8 md:mt-0\">\n                    <form onSubmit={handleSubmit} className=\"bg-white rounded shadow-lg p-8 w-full\">\n                        <label className=\"font-semibold text-sm\" htmlFor=\"commentField\">\n                            Add a Comment\n                        </label>\n                        <textarea\n                            className=\"h-32 px-4 py-2 bg-gray-200 mt-2 rounded focus:outline-none focus:ring-2 resize-none w-full\"\n                            type=\"text\"\n                            value={comment}\n                            onChange={(e) => setComment(e.target.value)}\n                            required\n                        />\n                        {error && <div className=\"text-red-600 mt-2\">{error}</div>}\n                        <button\n                            type=\"submit\"\n                            className=\"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded shadow\"\n                        >\n                            Comment\n                        </button>\n                    </form>\n                </div>\n            </div>\n            <h1 className='text-center py-4 text-lg'>Reviews</h1>\n            <div className=\"grid grid-cols-1 mt-8 md:grid-cols-2 lg:grid-cols-3 gap-8 w-full\">\n                {reviews.map((review) => (\n                    <div key={review.id} className=\"bg-white rounded-lg shadow-lg p-8\">\n                        <p className=\"text-lg font-medium\">{review.comment}</p>\n                        <button onClick={() => deleteReview(review.id)} className=\"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded shadow mt-4\">\n                            Delete\n                        </button>\n                    </div>\n                ))}\n            </div>\n        </div>\n\n    );\n};\n\nexport default CoffeeShow;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}